<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>OTT Night</title>
  <!-- Added Content-Security-Policy to restrict sources -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; script-src 'self'; style-src 'self' 'unsafe-inline';">
  <link rel="icon" type="image/x-icon" href="logo.jpeg">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #1c1c1c;
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #fff;
    }
    h1 {
      color: #ffcc00;
      margin: 20px;
    }
    .video-container {
      width: 90%;
      max-width: 1200px;
      margin-top: 20px;
    }
    .video-player {
      width: 100%;
      height: 90vh;
      max-height: 80vh;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      background: #000;
    }
    .movie-details {
      display: flex;
      align-items: flex-start;
      margin-top: 20px;
      width: 90%;
      max-width: 1200px;
      flex-wrap: wrap;
    }
    .movie-image {
      width: 200px;
      height: auto;
      border-radius: 8px;
      margin-right: 20px;
    }
    .movie-info {
      color: #fff;
    }
    .movie-info h2 {
      margin: 0;
      color: #ffcc00;
    }
    .movie-info p {
      margin: 5px 0;
    }
    .movie-info a {
      text-decoration: none;
      color: #ffcc00;
    }
    .summary {
      margin-top: 5px;
      max-width: 1200px;
      padding-right: 50px;
    }
    .movie-section {
      margin-bottom: 40px;
    }
  </style>
</head>
<body>
  <h1>OTT Night</h1>
  
  <div class="movie-section" id="movie-section">
    <div class="movie-details">
      <img id="movie-image" class="movie-image" src="" alt="Movie Image"><!-- Added alt text for accessibility -->
      <div class="movie-info">
        <h2 id="movie-name">Movie Name:</h2>
        <p id="release-date"><strong>Release Date:</strong></p>
        <p id="cast"><strong>Cast:</strong></p>
        <p id="director"><strong>Director:</strong></p>
        <p><strong>Trailer:</strong> <a id="trailer-link" href="" target="_blank">Watch Trailer</a></p>
        <p id="summary"><strong>Summary:</strong></p>
      </div>
    </div>
  </div>

  <div class="video-container">
    <iframe id="video-player" class="video-player" allow="autoplay; fullscreen" allowfullscreen></iframe>
  </div>

  <script>
    // Wait until the DOM is fully loaded before executing JavaScript
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const movieId = urlParams.get('movie');
      const videoPlayer = document.getElementById('video-player');

      const movieData = {
        Dune_Part_two: {
          image: "https://upload.wikimedia.org/wikipedia/en/5/52/Dune_Part_Two_poster.jpeg",
          name: "Dune: Part Two",
          releaseDate: "12 Dec 2023",
          cast: "Austin Butler, Florence Pugh",
          director: "Denis Villeneuve",
          trailer: "https://youtu.be/U2Qp5pL3ovA?si=Or3aBS9523TW6_rl",
          summary: "Paul Atreides unites with Chani and the Fremen while seeking revenge against the conspirators who destroyed his family.",
          videoUrl: "https://drive.google.com/file/d/1y-tzez1uCp-mYGRCFPbAM7L6raBRyUvc/preview",
        },
        Deadpool: {
          image: "https://upload.wikimedia.org/wikipedia/en/4/4c/Deadpool_%26_Wolverine_poster.jpg",
          name: "Deadpool & Wolverine",
          releaseDate: "26 July 2024",
          cast: "Ryan Reynolds, Hugh Jackman",
          director: "Shawn Levy",
          trailer: "https://youtu.be/L-kiatWK3gE?si=T-m1KJnQsLlgrI9G",
          summary: "Deadpool's peaceful existence comes crashing down when the Time Variance Authority recruits him to help safeguard the multiverse.",
          videoUrl: "https://drive.google.com/file/d/1TzUneD0IcdQ8c4fJAwjL1sjLM3kMCILR/preview",
        },
        Raju_Yadav: {
          image: "https://upload.wikimedia.org/wikipedia/en/1/16/Raju_Yadav_%282024_film%29.jpg",
          name: "Raju Yadav",
          releaseDate: "July 24, 2024.",
          cast: "Getup Srinu, Ankita Kharat",
          director: "Krishnamachary",
          trailer: "https://youtu.be/soiZdw5gGQA?si=lvfm-fAShoTdP6cW",
          summary: "A man's life gets complicated when an accident causes a rare facial disorder that leaves him smiling all the time.",
          videoUrl: "https://drive.google.com/file/d/1UGZUVLBMcdphfKnRb9C7N5jzpwZYexHW/preview",
        },
        Kalki_2898_AD: {
          image: "https://upload.wikimedia.org/wikipedia/en/4/4c/Kalki_2898_AD.jpg",
          name: "Kalki 2898 AD",
          releaseDate: "Sep 09, 2024",
          cast: "Prabhas, Amitabh Bachchan, Kamal Haasan",
          director: "Nag Ashwin",
          trailer: "https://youtu.be/-rTzyZZGJ84?si=N0--KygRtvjYYAQT",
          summary: "A modern-day avatar of Vishnu, a Hindu god, who is believed to have descended to earth to protect the world from evil forces.",
          videoUrl: "https://drive.google.com/file/d/1E4NO9RTffy5HtZ-kNHuTeKwR9a4Vb7E9/preview",
        },
        hotspot: {
          image: "https://m.media-amazon.com/images/M/MV5BMDQ3MDQyMGQtZmFhMy00N2ZjLWE0NDEtYTYwZWQ2NmJlYTZlXkEyXkFqcGdeQXVyMTUzNTgzNzM0._V1_.jpg",
          name: "Hot Spot",
          releaseDate: "May 17, 2024",
          cast: "Ammu Abhirami, Aadhitya Baaskar, Janani Iyer",
          director: "Vignesh Karthick",
          trailer: "https://youtu.be/-40TQ_v_f-Y?si=kXIEoWZeiUegwUH_",
          summary: "It features three stories that are humorously evocative and a fourth one that's deeply disturbing.",
          videoUrl: "https://drive.google.com/file/d/17FOCMhCfOaeRQNaWQnI9hWTZaAAzK5vA/preview"
        },
        maharaja: {
          image: "https://assets.eenadu.net/article_img/Maharaja1.jpg",
          name: "Maharaja",
          releaseDate: "March 22, 2024",
          cast: "Vijay Sethupathi, Anurag Kashyap, Mamta Mohandas",
          director: "Nithilan Swaminathan",
          trailer: "https://youtu.be/-40TQ_v_f-Y?si=1uk0oa80RhBDE1aS",
          summary: "An upright civil servant's life takes an unexpected turn when he is blamed for the suicide of a poor girl. The incident leads to a widespread protest by the public.",
          videoUrl: "https://drive.google.com/file/d/1LG1XId2kx6avW1S9Oyl1Tz2bs-zvQZyP/preview"
        }
      };

      // Check if movie data exists for the given movieId
      if (movieData[movieId]) {
        const movie = movieData[movieId];
        document.getElementById('movie-image').src = movie.image;
        document.getElementById('movie-name').textContent = movie.name;
        document.getElementById('release-date').textContent = `Release Date: ${movie.releaseDate}`;
        document.getElementById('cast').textContent = `Cast: ${movie.cast}`;
        document.getElementById('director').textContent = `Director: ${movie.director}`;
        document.getElementById('trailer-link').href = movie.trailer;
        document.getElementById('summary').textContent = `Summary: ${movie.summary}`;
        videoPlayer.src = movie.videoUrl;
      } else {
        // Handle invalid or missing movieId
        document.getElementById('movie-section').innerHTML = '<p>Movie not found. Please check the URL and try again.</p>';
        videoPlayer.style.display = 'none'; // Hide video player if no movie is found
      }
    });
  </script>
</body>
</html>
